{
  "name": "Demanda",
  "type": "object",
  "properties": {
    "convenio_nome": {
      "type": "string",
      "description": "Nome do conv\u00eanio"
    },
    "especialidade": {
      "type": "string",
      "enum": [
        "Fisioterapia Respirat\u00f3ria",
        "Enfermagem Domiciliar",
        "Cuidado Geri\u00e1trico",
        "Nutri\u00e7\u00e3o Cl\u00ednica",
        "Terapia Ocupacional",
        "Fisioterapia Geri\u00e1trica",
        "Curativo Especializado",
        "Acompanhamento Domiciliar"
      ],
      "description": "Especialidade requerida"
    },
    "urgencia": {
      "type": "string",
      "enum": [
        "baixa",
        "media",
        "urgente"
      ],
      "default": "media"
    },
    "status": {
      "type": "string",
      "enum": [
        "disponivel",
        "atribuida",
        "em_execucao",
        "finalizada",
        "cancelada"
      ],
      "default": "disponivel"
    },
    "valor": {
      "type": "number",
      "description": "Valor do atendimento em R$"
    },
    "endereco": {
      "type": "string"
    },
    "cidade": {
      "type": "string"
    },
    "zona": {
      "type": "string"
    },
    "data_atendimento": {
      "type": "string",
      "format": "date"
    },
    "horario_inicio": {
      "type": "string",
      "description": "Hor\u00e1rio de in\u00edcio (HH:mm)"
    },
    "horario_fim": {
      "type": "string",
      "description": "Hor\u00e1rio de fim (HH:mm)"
    },
    "duracao_minutos": {
      "type": "number"
    },
    "observacoes": {
      "type": "string"
    },
    "requisitos": {
      "type": "string",
      "description": "Requisitos especiais (certifica\u00e7\u00f5es, materiais)"
    },
    "profissional_id": {
      "type": "string",
      "description": "ID do profissional atribu\u00eddo"
    },
    "profissional_nome": {
      "type": "string"
    },
    "data_aceite": {
      "type": "string",
      "format": "date-time"
    },
    "data_inicio_execucao": {
      "type": "string",
      "format": "date-time"
    },
    "data_finalizacao": {
      "type": "string",
      "format": "date-time"
    },
    "comentarios": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "texto": {
            "type": "string"
          },
          "data": {
            "type": "string",
            "format": "date-time"
          },
          "tipo": {
            "type": "string",
            "enum": [
              "comentario",
              "ocorrencia"
            ]
          }
        }
      },
      "description": "Coment\u00e1rios e ocorr\u00eancias durante o atendimento"
    },
    "avaliacao": {
      "type": "object",
      "properties": {
        "nota": {
          "type": "number",
          "minimum": 1,
          "maximum": 5
        },
        "comentario": {
          "type": "string"
        },
        "aspectos": {
          "type": "object",
          "properties": {
            "pontualidade": {
              "type": "number"
            },
            "qualidade_atendimento": {
              "type": "number"
            },
            "comunicacao": {
              "type": "number"
            }
          }
        }
      },
      "description": "Avalia\u00e7\u00e3o do atendimento"
    },
    "recorrente": {
      "type": "boolean",
      "default": false,
      "description": "Indica se \u00e9 uma demanda recorrente"
    },
    "demanda_pai_id": {
      "type": "string",
      "description": "ID da demanda recorrente pai"
    },
    "tipo_recorrencia": {
      "type": "string",
      "enum": [
        "diaria",
        "semanal",
        "mensal",
        "escala_fixa"
      ],
      "description": "Tipo de recorr\u00eancia"
    },
    "dias_semana": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "segunda",
          "terca",
          "quarta",
          "quinta",
          "sexta",
          "sabado",
          "domingo"
        ]
      },
      "description": "Dias da semana para recorr\u00eancia semanal"
    },
    "data_fim_recorrencia": {
      "type": "string",
      "format": "date",
      "description": "Data de t\u00e9rmino da recorr\u00eancia"
    },
    "frequencia_semanal": {
      "type": "number",
      "description": "N\u00famero de vezes por semana (ex: 3)"
    },
    "vinculo_continuo": {
      "type": "boolean",
      "default": false,
      "description": "V\u00ednculo cont\u00ednuo com o mesmo profissional"
    }
  },
  "required": [
    "convenio_nome",
    "especialidade",
    "valor",
    "endereco",
    "data_atendimento"
  ]
}